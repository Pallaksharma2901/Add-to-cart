<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add to cart</title>

    <!-- fontawesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">

    <!-- bootstrap -->
    <link rel="stylesheet" href="asset/css/bootstrap.min.css">

    <!-- style -->
    <link rel="stylesheet" href="asset/css/style.css">
</head>

<body>

    <h1>Its just for testing .......s</h1>

    <div id="header">

    </div>


    <section>
        <div class="all-cards flex-wrap">

        </div>
    </section>



    <script src="asset/js/header.js" defer></script>

 
    <script>
        

        const entireCard = document.querySelector(".all-cards");
        entireCard.innerHTML = cards;

        function addCart(idx) {
            let parentElem = document.querySelectorAll(".w-3 .card")[idx];
            const img = parentElem.querySelector(".card-img-top").src;
            const nm = parentElem.querySelector(".product-name").innerHTML;
            const prc = parentElem.querySelector(".product-price").innerHTML;
            let cartProducts = JSON.parse(localStorage.getItem("cart-data")) || [];
            let index = cartProducts.findIndex(product => product.name == nm)
            if (index == -1) {
                let productDetail = {
                    name: nm,
                    price: prc,
                    image: img,
                    qty: 1,
                }
                cartProducts.push(productDetail)
            } else {
                cartProducts[index].qty++;
            }
            let count = document.getElementById("count"); 
            count.innerHTML = cartProducts.length;
            console.log(count);
            localStorage.setItem("cart-data", JSON.stringify(cartProducts));
            


        }
        

    </script>



</body>

</html>